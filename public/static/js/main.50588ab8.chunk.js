(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(84),s=a.n(l),i=(a(94),a(4)),o=a(5),c=a(7),u=a(6),m=a(8),p=(a(10),a(178)),d=r.a.createContext(null),h=function(e){return function(t){return r.a.createElement(d.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))})}},g=d,v=a(35),f=a.n(v);a(143);a(17).config();var b={apiKey:"AIzaSyDM3QLzPgBQhSX7gfx16imFoCFm3j_B1pM",authDomain:"studienarbeit.firebaseapp.com",databaseURL:"https://studienarbeit.firebaseio.com",projectId:"studienarbeit",storageBucket:"studienarbeit.appspot.com",messagingSenderId:"292162895758"},E=function e(){var t=this;Object(i.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},f.a.initializeApp(b),this.auth=f.a.auth()},y=h(function(e){var t=e.firebase;return r.a.createElement(p.a,{className:"navigation-links",to:"/"},r.a.createElement("span",{id:"signout-label",onClick:t.doSignOut},"Sign Out"))}),k=r.a.createContext(null),P=function(e){var t=function(t){function a(e){var t;return Object(i.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).state={authUser:null},t}return Object(m.a)(a,t),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(k.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),a}(r.a.Component);return h(t)},w=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={currentPage:""},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.setState({currentPage:this.props.currentPage})}},{key:"render",value:function(){var e=this,t=function(t){return r.a.createElement("div",null,r.a.createElement("ul",{id:"navigation-bar"},r.a.createElement("li",null,"home"===e.state.currentPage?r.a.createElement(p.a,{className:"navigation-links",style:{borderBottom:"solid",paddingBottom:"3px"},to:"/"}," Home "):r.a.createElement(p.a,{className:"navigation-links",to:"/"}," Home ")),r.a.createElement("li",null,"profile"===e.state.currentPage?r.a.createElement(p.a,{className:"navigation-links",style:{borderBottom:"solid",paddingBottom:"3px"},to:"/profile"}," Profile "):r.a.createElement(p.a,{className:"navigation-links",to:"/profile"}," Profile ")),r.a.createElement("li",null,"package"===e.state.currentPage?r.a.createElement(p.a,{className:"navigation-links",style:{borderBottom:"solid",paddingBottom:"3px"},to:"/packages"}," My Packages "):r.a.createElement(p.a,{className:"navigation-links",to:"/packages"}," My Packages ")),r.a.createElement("li",null,"delivery"===e.state.currentPage?r.a.createElement(p.a,{className:"navigation-links",style:{borderBottom:"solid",paddingBottom:"3px"},to:"/driver"},"Delivery "):r.a.createElement(p.a,{className:"navigation-links",to:"/driver"}," Delivery ")),r.a.createElement("li",null,r.a.createElement(y,null))))},a=function(){return r.a.createElement("div",null,r.a.createElement("ul",{id:"navigation-bar"},r.a.createElement("li",null,"home"===e.state.currentPage?r.a.createElement(p.a,{className:"navigation-links",style:{borderBottom:"solid",paddingBottom:"3px"},to:"/"}," Home "):r.a.createElement(p.a,{className:"navigation-links",to:"/"}," Home ")),r.a.createElement("li",null,"login"===e.state.currentPage?r.a.createElement(p.a,{className:"navigation-links",style:{borderBottom:"solid",paddingBottom:"3px"},to:"/login"}," Sign In "):r.a.createElement(p.a,{className:"navigation-links",to:"/login"}," Sign In "))))};return r.a.createElement("div",null,r.a.createElement(k.Consumer,null,function(n){return n?r.a.createElement(t,{currentPage:e.state.currentPage}):r.a.createElement(a,{currentPage:e.state.currentPage})}))}}]),t}(r.a.Component),O=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"Header"},r.a.createElement("h2",{id:"Header-label"}," Package Delivery Marketplace "))}}]),t}(n.Component),j=P(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={userToken:null},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.location.state&&this.setState({userToken:this.props.location.state.userToken})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(w,{currentPage:"home"}),r.a.createElement("div",{className:"main-content"},r.a.createElement("h2",null,"Hello Username"),r.a.createElement("p",{className:"home-text"},"On this place, you can either insert packages with a need to deliver or delivering packages on your own."),r.a.createElement("p",{className:"home-text"},"If you go to ",r.a.createElement(p.a,{style:{color:"#4e83c5"},to:"/packages"},"Packages"),", you can view your current packages or add new ones."),r.a.createElement("p",{className:"home-text"},"On the ",r.a.createElement(p.a,{style:{color:"#4e83c5"},to:"/driver"},"Delivery")," page, you can view your past drives or start a new delivery."),r.a.createElement("p",{className:"home-text"},"On the ",r.a.createElement(p.a,{style:{color:"#4e83c5"},to:"/profile"},"Profile")," page, you can see your information and your current rating basend of your deliveries.")))}}]),t}(n.Component)),N=a(28),C=a(36),L=a(182),S=a(48),T={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},x=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){var t=a.state,n=(t.username,t.email),r=t.passwordOne;a.props.firebase.doCreateUserWithEmailAndPassword(n,r).then(function(e){a.setState(Object(C.a)({},T)),a.props.history.push("/signup")}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(N.a)({},e.target.name,e.target.value))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,l=e.passwordTwo,s=e.error;return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Full Name"}),r.a.createElement("input",{name:"email",value:a,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"passwordOne",value:n,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("input",{name:"passwordTwo",value:l,onChange:this.onChange,type:"password",placeholder:"Confirm Password"}),r.a.createElement("button",{type:"submit"},"Sign Up"),s&&r.a.createElement("p",null,s.message)))}}]),t}(n.Component),A=function(){return r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(p.a,{to:"/signup"},"Sign Up"))},D=Object(S.a)(L.a,h)(x),R=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"SignUp"),r.a.createElement(D,null))},M=a(87),I=a.n(M),U={email:"",password:"",error:null},W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.email,r=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,r).then(function(){var e;a.setState(Object(C.a)({},U)),I.a.auth().currentUser.getIdToken(!0).then(function(t){e=t,console.log(t)}).catch(function(e){}),a.props.history.push({pathname:"/",state:{userToken:e}})}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(N.a)({},e.target.name,e.target.value))},a.state=Object(C.a)({},U),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,l=""===a||""===t;return r.a.createElement("div",{style:{marginTop:"65px"}},r.a.createElement("h1",null,"Sign In"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("button",{disabled:l,type:"submit"},"Sign In"),n&&r.a.createElement("p",null,n.message)))}}]),t}(n.Component),B=Object(S.a)(L.a,h)(W),_=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(w,null),r.a.createElement(B,null),r.a.createElement(A,null))},F=P(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={userID:null,username:"",email:"",phototURL:null},a.usernameLabel=r.a.createRef(),a.emailLabel=r.a.createRef(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getUserData",value:function(){var e=this.props.firebase.auth.currentUser;null!=e&&this.setState({userID:e.uid,username:e.displayName,email:e.email,photoURL:e.photoURL})}},{key:"componentDidMount",value:function(){this.getUserData()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(w,{currentPage:"profile"}),r.a.createElement("div",{className:"main-content"},r.a.createElement(k.Consumer,null,function(t){return t?r.a.createElement("div",null,r.a.createElement("div",{className:"profile-information"},r.a.createElement("h3",{ref:e.usernameLabel},e.state.username?e.state.username:"Username")),r.a.createElement("div",{className:"profile-information"},r.a.createElement("span",{ref:e.emailLabel},"Email: ",e.state.email)),r.a.createElement(p.a,{to:"/profile-edit"},"Edit Profile")):r.a.createElement("div",{className:"userNotLoggedIn-label"},"Please log in to access this page.")})))}}]),t}(n.Component)),H=a(3),z=a(46),K=a.n(z),V=a(88),J=a.n(V);a(17).config();var G=P(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={startLocation:{lat:null,lng:null},destination:{lat:null,lng:null},googleAPIKey:"AIzaSyAjSJ2TYee4PxkeUwH-nvWTIO4MU9NEKrg",currentLatLng:{lat:null,lng:null},directionsService:null,directionsDisplay:null,place:null,mapPositionArray:[],allowMultipleClicks:!0,showAutoCompleteBar:!0,duration:"",distance:"",scriptLoaded:!1,coordinates:{lat:48.78232,lng:9.17702}},e.initAutocomplete=e.initAutocomplete.bind(Object(H.a)(Object(H.a)(e))),e.initMap=e.initMap.bind(Object(H.a)(Object(H.a)(e))),e.calculateAndDisplayRoute=e.calculateAndDisplayRoute.bind(Object(H.a)(Object(H.a)(e))),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){"false"===this.props.allowMultipleClicks&&this.setState({allowMultipleClicks:!1}),"false"===this.props.showAutoCompleteBar&&this.setState({showAutoCompleteBar:!1}),this.props.startLocation&&this.setState({startLocation:this.props.startLocation,destination:this.props.destination})}},{key:"componentDidMount",value:function(){this._isMounted=!0,"true"===this.props.calculateRoute&&setTimeout(function(){this.calculateAndDisplayRoute()}.bind(this),250)}},{key:"initMap",value:function(){this.geocoder=new google.maps.Geocoder,this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:this.state.coordinates.lat,lng:this.state.coordinates.lng},zoom:10}),google.maps.event.addListener(this.map,"click",function(e){this.state.allowMultipleClicks&&this.addInfoWindowForLocation(e,this.geocoder)}.bind(this)),this.setState({directionsService:new google.maps.DirectionsService,directionsDisplay:new google.maps.DirectionsRenderer({map:this.map})}),this.state.showAutoCompleteBar&&this.initAutocomplete(this.geocoder)}},{key:"calculateAndDisplayRoute",value:function(){this.state.directionsService&&this.state.directionsDisplay&&(this.state.directionsDisplay.setMap(null),this.state.directionsDisplay.setMap(this.map),this.state.directionsService.route({origin:this.state.startLocation,destination:this.state.destination,travelMode:google.maps.TravelMode.DRIVING,provideRouteAlternatives:!0},function(e,t){if(t===google.maps.DirectionsStatus.OK){this.state.directionsDisplay.setDirections(e);for(var a=0,n=0,r=this.state.directionsDisplay.directions,l=0;l<r.routes[0].legs.length;l++)n+=r.routes[0].legs[l].distance.value,a+=r.routes[0].legs[l].duration.value;var s=n/1e3;s=s.toFixed(1);var i=new Date(null);i.setSeconds(a);var o=0;o=a<3600?i.toISOString().substr(14,5):i.toISOString().substr(11,8),this.setState({duration:o,distance:s+" km"})}else window.alert("Directions request failed due to "+t)}.bind(this)))}},{key:"initAutocomplete",value:function(e){if(this.map){var t=document.getElementById("searchTextField"),a=new google.maps.Marker({map:this.map}),n=new google.maps.places.Autocomplete(t);n.bindTo("bounds",this.map),google.maps.event.addListener(n,"place_changed",function(){this.place=n.getPlace();var t=new google.maps.LatLng(this.place.geometry.location.lat(),this.place.geometry.location.lng());this.map.setCenter(t),this.checkIfInfoWindowIsReached(),this.createNewInfoWindow(this.place.geometry.location.lat(),this.place.geometry.location.lng(),e),this.props.callbackFromDriver?this.props.callbackFromDriver({lat:this.place.geometry.location.lat(),lng:this.place.geometry.location.lng()}):this.props.callbackFromParent&&this.props.callbackFromParent(this.state.coordinates),a.setPosition(t),this.map.setZoom(12)}.bind(this))}}},{key:"addInfoWindowForLocation",value:function(e,t){for(var a,n=0;n<this.state.mapPositionArray.length;n++)this.state.mapPositionArray[n].lat===e.latLng.lat()&&this.state.mapPositionArray[n].lon===e.latLng.lng()&&(a=this.state.mapPositionArray[n].infoWindow,this.state.mapPositionArray[n].marker),this.state.mapPositionArray[n].infoWindow&&this.state.mapPositionArray[n].infoWindow.close();this.checkIfInfoWindowIsReached(),a||this.createNewInfoWindow(e.latLng.lat(),e.latLng.lng(),t),this.props.callbackFromParent(this.state.mapPositionArray)}},{key:"checkIfInfoWindowIsReached",value:function(){if(this.state.mapPositionArray.length>1){for(var e=0;e<this.state.mapPositionArray.length;e++)this.state.mapPositionArray[e].marker.setMap(null);this.setState({mapPositionArray:[]})}}},{key:"createNewInfoWindow",value:function(e,t,a){var n,r,l={lat:e,lng:t},s={lat:e,lon:t,infoWindow:new google.maps.InfoWindow,marker:new google.maps.Marker({position:l,map:this.map})},i=this.state.mapPositionArray;i.push(s),this.setState({mapPositionArray:i}),n=s.infoWindow,r=s.marker,this.geocodeLatLng(a,this.map,n,l,r)}},{key:"geocodeLatLng",value:function(e,t,a,n,r){var l={lat:n.lat,lng:n.lng};e.geocode({location:l},function(e,n){"OK"===n?e[0]?(r.addListener("click",function(){a.open(t,r)}),this.formatted_address=e[0].formatted_address,a.setContent(e[0].formatted_address),a.open(t,r)):window.alert("No results found"):window.alert("Geocoder failed due to: "+n)})}},{key:"render",value:function(){var e="https://maps.googleapis.com/maps/api/js?libraries=places&key="+this.state.googleAPIKey;return r.a.createElement("div",null,this.state.showAutoCompleteBar?r.a.createElement("input",{type:"text",id:"searchTextField"}):"",r.a.createElement("div",{id:"map"}),r.a.createElement("div",null,this.props.calculateRoute?r.a.createElement("div",null,r.a.createElement("p",{ref:this.distanceLabel},"Distance: ",this.state.distance),r.a.createElement("p",{ref:this.durationLabel},"Duration: ",this.state.duration)):""),r.a.createElement(J.a,{url:e,onLoad:this.initMap.bind(this)}))}}]),t}(n.Component));a(17).config();var Y=P(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).getDataFromMaps=function(t){e.setState({mapPositionArray:t})},e.handleSubmit=function(t){if(t.preventDefault(),2===e.state.mapPositionArray.length){var a=e.sizeRef.current.value,n=e.weightRef.current.value,r=e.rangeRef.current.value,l=e.commentRef.current.value,s=e.priceRef.current.value,i=e.state.userToken;console.log(i);var o={lat:e.state.mapPositionArray[0].lat,lng:e.state.mapPositionArray[0].lon},c={lat:e.state.mapPositionArray[1].lat,lng:e.state.mapPositionArray[1].lon},u=JSON.stringify({action:"submit",user_token:i,price:s,size:a,weight:n,priority:r,comment:l,pickup_location:o,destination_location:c});K.a.post("https://us-central1-studienarbeit.cloudfunctions.net/parcel",u,{headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e)}).catch(function(e){console.log(o,c),console.log(e)}),e.continueToFinalPage(u,void 0)}else alert("Please select the start and final destination of the package. ")},e.state={startLocation:{lat:null,lng:null},destination:{lat:null,lng:null},showSecondMarker:!1,mapPositionArray:[],priority:"",price:"",userToken:null},e.clearValues=e.clearValues.bind(Object(H.a)(Object(H.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(H.a)(Object(H.a)(e))),e.continueToFinalPage=e.continueToFinalPage.bind(Object(H.a)(Object(H.a)(e))),e.getUserToken=e.getUserToken.bind(Object(H.a)(Object(H.a)(e))),e.rangeRef=r.a.createRef(),e.sizeRef=r.a.createRef(),e.weightRef=r.a.createRef(),e.commentRef=r.a.createRef(),e.priceRef=r.a.createRef(),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.getUserToken()}},{key:"componentDidMount",value:function(){this.setState({priority:"Priority: Very High",price:"Price: 50\u20ac"})}},{key:"clearValues",value:function(){this.setState({startLocation:{lat:null,lng:null},destination:{lat:null,lng:null}})}},{key:"getUserToken",value:function(){f.a.auth().currentUser.getIdToken(!0).then(function(e){this.setState({userToken:e})}.bind(this)).catch(function(e){})}},{key:"redirectToCompletePage",value:function(){this.props.history.push({pathname:"/driver",state:{currentLatLng:this.state.currentLatLng}})}},{key:"updatePriorityLabel",value:function(e){e.preventDefault();var t="";switch(this.rangeRef.current.value){case"1":t="Very low";break;case"2":t="Low";break;case"3":t="Normal";break;case"4":t="High";break;case"5":t="Very High";break;default:t=""}this.setState({priority:"Priority: "+t})}},{key:"updatePriceLabel",value:function(e){e.preventDefault(),this.setState({price:"Price: "+this.priceRef.current.value+"\u20ac"})}},{key:"continueToFinalPage",value:function(e,t){this.props.history.push({pathname:"/final",state:{userType:"customer",package:e,response:t}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(w,{currentPage:"package"}),r.a.createElement("div",{className:"main-content"},r.a.createElement(k.Consumer,null,function(t){return t?r.a.createElement("div",null,r.a.createElement("h2",null,"Insert a new package to the marketplace"),r.a.createElement("div",null,r.a.createElement(G,{callbackFromParent:e.getDataFromMaps}),r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("p",{className:"p-border"},r.a.createElement("span",{style:{fontWeight:600}},"What's the size of your package?"),r.a.createElement("select",{name:"size",ref:e.sizeRef,className:"package-insert-select"},r.a.createElement("option",{value:"small"},"S (35 x 25 x 10 cm)"),r.a.createElement("option",{value:"medium"},"M (60 x 30 x 15 cm)"),r.a.createElement("option",{value:"large"},"L (120 x 60 x 60 cm)"))),r.a.createElement("p",{className:"p-border"},r.a.createElement("span",{style:{fontWeight:600}},"How heavy is it?"),r.a.createElement("select",{name:"weight",ref:e.weightRef,className:"package-insert-select"},r.a.createElement("option",{value:"light"},"Up to 2 Kg"),r.a.createElement("option",{value:"medium"},"Up to 5 Kg"),r.a.createElement("option",{value:"heavy"},"Up to 10 Kg"))),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("p",{className:"p-border"},r.a.createElement("span",{style:{fontWeight:600}},"What priority should it have?")," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{style:{marginRight:"20px",display:"inline-block",width:"135px"}},e.state.priority),r.a.createElement("input",{type:"range",ref:e.rangeRef,name:"priority",min:"1",max:"5",style:{width:"250px"},onChange:function(t){e.updatePriorityLabel(t)}})),r.a.createElement("p",{className:"p-border"},r.a.createElement("span",{style:{fontWeight:600}},"Whats your maximum price?")," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{style:{marginRight:"20px",display:"inline-block",width:"135px"}},e.state.price),r.a.createElement("input",{type:"range",ref:e.priceRef,name:"price",min:"1",max:"100",style:{width:"250px"},onChange:function(t){e.updatePriceLabel(t)}}))),r.a.createElement("p",{className:"p-border"},r.a.createElement("span",{style:{fontWeight:600}},"Any Comments?"),r.a.createElement("textarea",{id:"package-comment",name:"comment",className:"package-insert-select",ref:e.commentRef})),r.a.createElement("div",{id:"selected-locations"},r.a.createElement("div",{className:"speech-bubble"}),r.a.createElement("div",{style:{lineHeight:"19px"}},r.a.createElement("span",{style:{fontWeight:600}},"Start Location")," ",r.a.createElement("br",null),e.state.startLocation.lat?e.state.startLocation.lat.toFixed(3):"0",","," ",e.state.startLocation.lng?e.state.startLocation.lng.toFixed(3):"0"),r.a.createElement("br",null),r.a.createElement("div",{style:{lineHeight:"19px"}},r.a.createElement("span",{style:{fontWeight:600}}," Destination ")," ",r.a.createElement("br",null),e.state.destination.lat?e.state.destination.lat.toFixed(3):"0",","," ",e.state.destination.lng?e.state.destination.lng.toFixed(3):"0")),r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("button",{className:"buttons critical-button",onMouseDown:e.clearValues},"Clear Values"),r.a.createElement("input",{className:"buttons cta-button",type:"submit",style:{float:"right"},value:"Submit"}))))):r.a.createElement("div",null,r.a.createElement("div",{className:"userNotLoggedIn-label"},"Please log in to access this page."))})))}}]),t}(n.Component));a(17).config();var q=P(function(e){function t(){var e;Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handlePackageClick=function(t){var a,n=t.target.querySelectorAll("span"),r=[];n.forEach(function(e){r.push(e.innerHTML)}),e.state.selectedPackages&&(e.state.selectedPackages.includes(r[0].innerHTML)||r===[])||(a={parcel_id:r[0],parcel_status:r[1],title:r[2],time_created:r[3]},e.state.selectedPackages.push(a),t.target.className="listed-packages-clicked")},e.state={packages:[{parcel_id:1,parcel_status:"home",title:"P1",time_created:"Tue, 22 Jan 2019 05:42:10 GMT"},{parcel_id:2,parcel_status:"home",title:"P2",time_created:"Tue, 22 Jan 2019 08:22:10 GMT"}],selectedPackages:[],userToken:null},e.handlePackageClick=e.handlePackageClick.bind(Object(H.a)(Object(H.a)(e))),e.ReturnToPreviousPage=e.ReturnToPreviousPage.bind(Object(H.a)(Object(H.a)(e))),e.ContinueToConfirmPage=e.ContinueToConfirmPage.bind(Object(H.a)(Object(H.a)(e)));return e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){K.a.get("https://us-central1-studienarbeit.cloudfunctions.net/parceldriver",{params:{driver_position:"test",radius:""}}).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),this.props.location.state&&this.setState({userToken:this.props.location.state.userToken})}},{key:"ReturnToPreviousPage",value:function(){this.props.history.push({pathname:"/driver",state:{currentLatLng:this.state.currentLatLng}})}},{key:"ContinueToConfirmPage",value:function(){0===this.state.selectedPackages.length?alert("Select at least one package"):this.props.history.push({pathname:"/driver-confirm",state:{prevState:this.props.location.state,selectedPackages:this.state.selectedPackages}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(w,{currentPage:"delivery"}),r.a.createElement("div",{className:"main-content"},r.a.createElement(k.Consumer,null,function(t){return t?r.a.createElement("div",null,r.a.createElement("h2",null,"Select one or more packages to proceed."),r.a.createElement("div",null,0!==e.state.packages.length?e.state.packages.map(function(t,a){return r.a.createElement("div",{className:"listed-packages",key:a,onMouseDown:e.handlePackageClick},r.a.createElement("span",{className:"packages-table"},t.parcel_id),r.a.createElement("span",{className:"packages-table"},t.parcel_status),r.a.createElement("span",{className:"packages-table"},t.title),r.a.createElement("span",{className:"packages-table"},t.time_created))}):r.a.createElement("div",{style:{marginBottom:"25px"}},"There are no packages available right now. Please check later again.")),r.a.createElement("button",{className:"buttons",onMouseDown:e.ReturnToPreviousPage},"Back"),r.a.createElement("button",{className:"buttons cta-button",onMouseDown:e.ContinueToConfirmPage,style:{float:"right"}},"Continue")):r.a.createElement("div",null,r.a.createElement("div",{className:"userNotLoggedIn-label"},"Please log in to access this page."))})))}}]),t}(n.Component));a(17).config();var Q=P(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleSubmit=function(t){e.props.history.push({pathname:"/driver-select-packages",state:{currentLatLng:e.state.currentLatLng,timeAvailable:e.state.time}})},e.getDataFromMaps=function(t){console.log("received: "+t),e.setState({currentLatLng:t})},e.state={currentLatLng:{lat:0,lng:0,address:""},time:0,userToken:null},e.rangeRef=r.a.createRef(),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.location.state&&this.setState({userToken:this.props.location.state.userToken})}},{key:"componentDidMount",value:function(){this.props.location.state?this.setState({userToken:this.props.location.state.userToken,time:"Hours: 5"}):this.setState({time:"Hours: 5"})}},{key:"updateTimeLabel",value:function(e){e.preventDefault(),this.setState({time:"Hours: "+this.rangeRef.current.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(w,{currentPage:"delivery"}),r.a.createElement("div",{className:"main-content"},r.a.createElement(k.Consumer,null,function(t){return t?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,"Want to deliver packages?"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",{style:{marginBottom:"15px",marginTop:"40px",display:"block",fontWeight:600}},"Select your current location"),r.a.createElement(G,{callbackFromDriver:e.getDataFromMaps,allowMultipleClicks:"false",showAutoCompleteBar:"true"}),r.a.createElement("p",{className:"p-border"},r.a.createElement("span",{style:{fontWeight:600}},"How much time do you have for delivering?"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{style:{marginRight:"15px"}},e.state.time),r.a.createElement("input",{type:"range",ref:e.rangeRef,name:"priority",min:"1",max:"5",style:{width:"250px",marginTop:"15px"},onChange:function(t){e.updateTimeLabel(t)}}))),r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("button",{className:"buttons cta-button",onMouseDown:e.handleSubmit,style:{float:"right"}},"Continue"))))):r.a.createElement("div",null,r.a.createElement("div",{className:"userNotLoggedIn-label"},"Please log in to access this page."))})))}}]),t}(n.Component));a(17).config();var X=P(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={selectedPackages:[],timeAvailable:0,currentLatLng:{lat:"",lng:""}},e.ReturnToPreviousPage=e.ReturnToPreviousPage.bind(Object(H.a)(Object(H.a)(e))),e.continueToFinalPage=e.continueToFinalPage.bind(Object(H.a)(Object(H.a)(e))),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.location.state&&this.setState({selectedPackages:this.props.location.state.selectedPackages,timeAvailable:this.props.location.state.prevState.timeAvailable,currentLatLng:this.props.location.state.prevState.currentLatLng})}},{key:"ReturnToPreviousPage",value:function(){this.props.history.push({pathname:"/driver-select-packages",state:{selectedPackages:this.state.selectedPackages}})}},{key:"continueToFinalPage",value:function(){this.props.history.push({pathname:"/driver-route",state:{userType:"driver"}})}},{key:"render",value:function(){var e=this;return this.state.selectedPackages?r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(w,{currentPage:"delivery"}),r.a.createElement("div",{className:"main-content"},r.a.createElement(k.Consumer,null,function(t){return t?r.a.createElement("div",null,r.a.createElement("h2",null,"Congrats! Check your information and submit"),r.a.createElement("div",null,r.a.createElement("p",{style:{marginBottom:"45px"}},r.a.createElement("span",{style:{fontWeight:600}},"Your available time level is:")," ",e.state.timeAvailable),r.a.createElement("p",{style:{marginBottom:"45px"}},r.a.createElement("span",{style:{fontWeight:600}},"Your current position is:")," ",e.state.currentLatLng.address," ",r.a.createElement("br",null),e.state.currentLatLng.lat.toFixed(4)," , ",e.state.currentLatLng.lng.toFixed(4)),r.a.createElement("p",null,r.a.createElement("span",{style:{fontWeight:600}},"You selected the following packages to deliver:")),e.state.selectedPackages.map(function(t,a){return r.a.createElement("div",{className:"listed-packages",key:a,onMouseDown:e.handlePackageClick},r.a.createElement("span",{className:"packages-table"},t.parcel_id),r.a.createElement("span",{className:"packages-table"},t.parcel_status),r.a.createElement("span",{className:"packages-table"},t.title),r.a.createElement("span",{className:"packages-table"},t.time_created))})),r.a.createElement("button",{className:"buttons",onMouseDown:e.ReturnToPreviousPage},"Back"),r.a.createElement("button",{className:"buttons cta-button",onMouseDown:e.continueToFinalPage,style:{float:"right"}},"Confirm")):r.a.createElement("div",null,r.a.createElement("div",{className:"userNotLoggedIn-label"},"Please log in to access this page."))}))):r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(w,null),r.a.createElement("div",{className:"main-content"},r.a.createElement("h3",null,"Congrats! Check your information and submit"),r.a.createElement("h4",null),r.a.createElement("div",null),r.a.createElement("button",{className:"buttons",onMouseDown:this.ReturnToPreviousPage},"Back"),r.a.createElement("button",{className:"buttons",style:{float:"right"}},"Submit"))))}}]),t}(n.Component)),Z=P(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={userID:null,username:"",email:"",phototURL:null},a.handleChangeUsername=a.handleChangeUsername.bind(Object(H.a)(Object(H.a)(a))),a.handleChangeEmail=a.handleChangeEmail.bind(Object(H.a)(Object(H.a)(a))),a.updateUserData=a.updateUserData.bind(Object(H.a)(Object(H.a)(a))),a.usernameInput=r.a.createRef(),a.emailInput=r.a.createRef(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getUserData",value:function(){var e=this.props.firebase.auth.currentUser;null!=e&&this.setState({userID:e.uid,username:e.displayName,email:e.email,photoURL:e.photoURL},this.showUserData)}},{key:"updateUserData",value:function(){var e=this.props.firebase.auth.currentUser;null!=e&&(e.updateProfile({displayName:this.state.username}).then(function(){}).catch(function(e){console.log("Error while changing profile information")}),e.updateEmail(this.state.email).then(function(){}).catch(function(e){console.log("Error while changing email information")}))}},{key:"showUserData",value:function(){var e=this.usernameInput.current,t=this.emailInput.current;console.log(e),null!=this.state.userID&&(e.value=this.state.username,t.value=this.state.email)}},{key:"handleChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handleChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"componentDidMount",value:function(){this.getUserData()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(w,null),r.a.createElement("div",{className:"main-content"},r.a.createElement(k.Consumer,null,function(t){return t?r.a.createElement("div",null,r.a.createElement("span",null,"Username:"),r.a.createElement("input",{type:"text",ref:e.usernameInput,onChange:e.handleChangeUsername}),r.a.createElement("br",null),r.a.createElement("span",null,"Email:"),r.a.createElement("input",{type:"text",ref:e.emailInput,onChange:e.handleChangeEmail}),r.a.createElement("button",{onClick:e.updateUserData},"Save")):r.a.createElement("div",{className:"userNotLoggedIn-label"},"Please log in to access this page.")})))}}]),t}(n.Component)),$=P(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={userType:"",package:"",response:""},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.location.state&&this.setState({userType:this.props.location.state.userType,package:this.props.location.state.package,response:this.props.location.state.response?this.props.location.state.response:""})}},{key:"render",value:function(){var e;return"driver"===this.state.userType?e=r.a.createElement("div",null,r.a.createElement("h2",null,"Congrats!")):"customer"===this.state.userType&&(e=r.a.createElement("div",null,r.a.createElement("h2",null,"Congrats! Your package was successfully added."),r.a.createElement("div",null,"You can now relax, while we're finding the best driver for your delivery."))),r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(w,null),r.a.createElement("div",{className:"main-content"},r.a.createElement(k.Consumer,null,function(t){return t?r.a.createElement("div",{style:{paddingTop:"24px",textAlign:"center"}},r.a.createElement("img",{style:{width:"150px"},alt:"Shows a route between two points",src:"/assets/distance.png"}),e):r.a.createElement("div",{className:"userNotLoggedIn-label"},"Please log in to access this page.")})))}}]),t}(n.Component));a(17).config();var ee=P(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleSubmit=function(t){e.props.history.push({pathname:"/driver-select-packages",state:{currentLatLng:e.state.currentLatLng,timeAvailable:e.state.time}})},e.state={startLocation:{lat:48.57767,lng:9.265834},destination:{lat:48.558917,lng:9.211809},time:0,userToken:null},e.pickedUpButton=r.a.createRef(),e.submittedButton=r.a.createRef(),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.location.state&&this.setState({userToken:this.props.location.state.userToken})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(w,{currentPage:"delivery"}),r.a.createElement("div",{className:"main-content"},r.a.createElement(k.Consumer,null,function(t){return t?r.a.createElement("div",null,r.a.createElement("h2",null,"Here's your route!"),r.a.createElement(G,{allowMultipleClicks:"false",showAutoCompleteBar:"false",startLocation:e.state.startLocation,destination:e.state.destination,calculateRoute:"true"}),r.a.createElement("button",{className:"buttons",ref:e.pickedUpButton},"Picked Up"),r.a.createElement("button",{className:"buttons cta-button",ref:e.submittedButton,style:{float:"right"}},"Submitted")):r.a.createElement("div",null,r.a.createElement("div",{className:"userNotLoggedInlabel"},"Please log in to access this page."))})))}}]),t}(n.Component)),te=P(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={packages:[{parcel_id:1,parcel_status:"home",title:"P1",time_created:"Tue, 22 Jan 2019 05:42:10 GMT"},{parcel_id:2,parcel_status:"ready",title:"P2",time_created:"Tue, 22 Jan 2019 08:22:10 GMT"}],userToken:null},e.removePackage=e.removePackage.bind(Object(H.a)(Object(H.a)(e))),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.location.state&&this.setState({userToken:this.props.location.state.userToken})}},{key:"removePackage",value:function(e,t){this.state.packages.length>0&&(e.preventDefault(),"my-packages-container"!==e.target.parentElement.id&&(e.target.parentElement.classList.add("hidden"),setTimeout(function(){var e=this.state.packages.filter(function(e){return e.parcel_id!==t});this.setState({packages:e})}.bind(this),1150)))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(w,{currentPage:"package"}),r.a.createElement("div",{className:"main-content"},r.a.createElement(k.Consumer,null,function(t){return t?r.a.createElement("div",{id:"my-packages-container"},r.a.createElement("h2",null,"Manage your packages."),r.a.createElement(p.a,{to:"/new-package"},r.a.createElement("button",{className:"buttons cta-button",style:{position:"absolute",top:0,right:0,marginRight:0}},"Add Package")),e.state.packages.map(function(t,a){return r.a.createElement("div",{className:"listed-packages",key:t.parcel_id,onClick:function(a){return e.removePackage(a,t.parcel_id)}},r.a.createElement("span",{className:"packages-table"},t.parcel_id),r.a.createElement("span",{className:"packages-table"},t.parcel_status),r.a.createElement("span",{className:"packages-table"},t.title),r.a.createElement("span",{className:"packages-table"},t.time_created),r.a.createElement("input",{alt:"",className:"delete-package-button",src:"/assets/delete-button.png",type:"image"}))})):r.a.createElement("div",{className:"userNotLoggedIn-label"},"Please log in to access this page.")})))}}]),t}(n.Component)),ae=a(180),ne=a(181),re=a(179);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(17).load(),s.a.render(r.a.createElement(g.Provider,{value:new E},r.a.createElement(ae.a,null,r.a.createElement(ne.a,null,r.a.createElement(re.a,{exact:!0,path:"/",component:j}),r.a.createElement(re.a,{exact:!0,path:"/login",component:_}),r.a.createElement(re.a,{exact:!0,path:"/signup",component:R}),r.a.createElement(re.a,{exact:!0,path:"/profile",component:F}),r.a.createElement(re.a,{exact:!0,path:"/profile-edit",component:Z}),r.a.createElement(re.a,{exact:!0,path:"/new-package",component:Y}),r.a.createElement(re.a,{exact:!0,path:"/packages",component:te}),r.a.createElement(re.a,{exact:!0,path:"/driver-select-packages",component:q}),r.a.createElement(re.a,{exact:!0,path:"/driver",component:Q}),r.a.createElement(re.a,{exact:!0,path:"/driver-confirm",component:X}),r.a.createElement(re.a,{exact:!0,path:"/driver-route",component:ee}),r.a.createElement(re.a,{exact:!0,path:"/final",component:$})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},89:function(e,t,a){e.exports=a(176)},94:function(e,t,a){}},[[89,2,1]]]);
//# sourceMappingURL=main.50588ab8.chunk.js.map